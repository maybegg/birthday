<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="./jweixin-1.2.0.js"></script>
</head>
<body>
<img src="https://opas-file.b0.upaiyun.com/image/20160818/c8e9856797c3a6cc99cdab7070c77d10.png" alt="">
<script>
    console.log(wx);
    // wx.config({
    //     "appId": "wxf8b4f85f3a794e77",
    //     "timestamp": "1523317769",
    //     "nonceStr": "mW1v21MxgvojBPJX",
    //     "signature": "807fbc9f9602550fd696ff5275f930dff6292c9d",
    //     "jsApiList": [ "checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "onMenuShareQZone", "hideMenuItems", "showMenuItems", "hideAllNonBaseMenuItem", "showAllNonBaseMenuItem", "translateVoice", "startRecord", "stopRecord", "onVoiceRecordEnd", "playVoice", "onVoicePlayEnd", "pauseVoice", "stopVoice", "uploadVoice", "downloadVoice", "chooseImage", "previewImage", "uploadImage", "downloadImage", "getNetworkType", "openLocation", "getLocation", "hideOptionMenu", "showOptionMenu", "closeWindow", "scanQRCode", "chooseWXPay", "openProductSpecificView", "addCard", "chooseCard", "openCard" ] }
    // )
    wx.ready(function(){
        // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。
        console.log(1);
    });

    wx.error(function(){
        console.log(2)
    });

    wx.onMenuShareTimeline({
        title: '123', // 分享标题
        link: 'https://maybegg.github.io/test/', // 分享链接，该链接域名必须与当前企业的可信域名一致
        // imgUrl: '', // 分享图标
        success: function () {
            // 用户确认分享后执行的回调函数
        },
        cancel: function () {
            // 用户取消分享后执行的回调函数
        }
    });

    function sendMessage(){
        WeixinJSBridge.on('menu:share:appmessage', function(argv){

            WeixinJSBridge.invoke('sendAppMessage',{

                "appid":"", //appid 设置空就好了。
                "img_url": 'https://opas-file.b0.upaiyun.com/image/20160818/c8e9856797c3a6cc99cdab7070c77d10.png', //分享时所带的图片路径
                "img_width": "120", //图片宽度
                "img_height": "120", //图片高度
                "link":window.location.href, //分享附带链接地址
                "desc":"我是一个介绍", //分享内容介绍
                "title":"标题，再简单不过了。"
            }, function(res){/*** 回调函数，最好设置为空 ***/

            });

        });
    }

    if(document.addEventListener){
        document.addEventListener('WeixinJSBridgeReady', sendMessage, false); }else if(document.attachEvent){
        document.attachEvent('WeixinJSBridgeReady' , sendMessage); document.attachEvent('onWeixinJSBridgeReady' , sendMessage); }
</script>
</body>
</html>